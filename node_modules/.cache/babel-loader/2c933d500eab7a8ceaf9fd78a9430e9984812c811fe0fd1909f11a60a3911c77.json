{"ast":null,"code":"var _jsxFileName = \"/Users/vld/WebTools/pet_projects/src/pages/Junior/s2/hw14/common/c8-SuperDebouncedInput/SuperDebouncedInput.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport SuperInputText from '../../../hw04/common/c1-SuperInputText/SuperInputText';\n\n// тип пропсов обычного инпута\n\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута, кроме type\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SuperDebouncedInput = ({\n  onChangeText,\n  onDebouncedChange,\n  ...restProps // все остальные пропсы попадут в объект restProps\n}) => {\n  _s();\n  const [timerId, setTimerId] = useState(undefined);\n  const onChangeTextCallback = value => {\n    onChangeText === null || onChangeText === void 0 ? void 0 : onChangeText(value);\n    if (onDebouncedChange) {\n      if (timerId) {\n        clearTimeout(timerId); // Clear the previous timer\n      }\n      const newTimerId = setTimeout(() => {\n        onDebouncedChange(value);\n      }, 1500); // Set a new timer for 1500ms\n\n      setTimerId(newTimerId);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(SuperInputText, {\n    onChangeText: onChangeTextCallback,\n    ...restProps\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n};\n_s(SuperDebouncedInput, \"yn9+IXVkzq+8+N/DUHUEAxg0Ieg=\");\n_c = SuperDebouncedInput;\nexport default SuperDebouncedInput;\nvar _c;\n$RefreshReg$(_c, \"SuperDebouncedInput\");","map":{"version":3,"names":["React","useState","SuperInputText","jsxDEV","_jsxDEV","SuperDebouncedInput","onChangeText","onDebouncedChange","restProps","_s","timerId","setTimerId","undefined","onChangeTextCallback","value","clearTimeout","newTimerId","setTimeout","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/vld/WebTools/pet_projects/src/pages/Junior/s2/hw14/common/c8-SuperDebouncedInput/SuperDebouncedInput.tsx"],"sourcesContent":["import React, {DetailedHTMLProps, InputHTMLAttributes, ReactNode, useState} from 'react'\nimport SuperInputText from '../../../hw04/common/c1-SuperInputText/SuperInputText'\n\n// тип пропсов обычного инпута\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>,\n    HTMLInputElement>\n\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута, кроме type\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\nexport type SuperDebouncedInputPropsType = Omit<DefaultInputPropsType, 'type'> & {\n    // и + ещё пропсы которых нет в стандартном инпуте\n    onChangeText?: (value: string) => void\n    onEnter?: () => void\n    error?: ReactNode\n    spanClassName?: string\n} // или экспортировать тип SuperInputTextPropsType\n    & { // плюс специальный пропс SuperPagination\n    onDebouncedChange?: (value: string) => void\n}\n\nconst SuperDebouncedInput: React.FC<SuperDebouncedInputPropsType> = (\n    {\n        onChangeText,\n        onDebouncedChange,\n        ...restProps // все остальные пропсы попадут в объект restProps\n    }\n) => {\n    const [timerId, setTimerId] = useState<number | undefined>(undefined)\n\n    const onChangeTextCallback = (value: string) => {\n        onChangeText?.(value);\n\n        if (onDebouncedChange) {\n            if (timerId) {\n                clearTimeout(timerId); // Clear the previous timer\n            }\n\n            const newTimerId = setTimeout(() => {\n                onDebouncedChange(value);\n            }, 1500); // Set a new timer for 1500ms\n\n            setTimerId(newTimerId as unknown as number);\n        }\n    }\n\n    return (\n        <SuperInputText onChangeText={onChangeTextCallback} {...restProps}/>\n    )\n}\n\nexport default SuperDebouncedInput\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAsDC,QAAQ,QAAO,OAAO;AACxF,OAAOC,cAAc,MAAM,uDAAuD;;AAElF;;AAIA;AACA;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAYA,MAAMC,mBAA2D,GAAGA,CAChE;EACIC,YAAY;EACZC,iBAAiB;EACjB,GAAGC,SAAS,CAAC;AACjB,CAAC,KACA;EAAAC,EAAA;EACD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAqBW,SAAS,CAAC;EAErE,MAAMC,oBAAoB,GAAIC,KAAa,IAAK;IAC5CR,YAAY,aAAZA,YAAY,uBAAZA,YAAY,CAAGQ,KAAK,CAAC;IAErB,IAAIP,iBAAiB,EAAE;MACnB,IAAIG,OAAO,EAAE;QACTK,YAAY,CAACL,OAAO,CAAC,CAAC,CAAC;MAC3B;MAEA,MAAMM,UAAU,GAAGC,UAAU,CAAC,MAAM;QAChCV,iBAAiB,CAACO,KAAK,CAAC;MAC5B,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;;MAEVH,UAAU,CAACK,UAA+B,CAAC;IAC/C;EACJ,CAAC;EAED,oBACIZ,OAAA,CAACF,cAAc;IAACI,YAAY,EAAEO,oBAAqB;IAAA,GAAKL;EAAS;IAAAU,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AAE5E,CAAC;AAAAZ,EAAA,CA5BKJ,mBAA2D;AAAAiB,EAAA,GAA3DjB,mBAA2D;AA8BjE,eAAeA,mBAAmB;AAAA,IAAAiB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}