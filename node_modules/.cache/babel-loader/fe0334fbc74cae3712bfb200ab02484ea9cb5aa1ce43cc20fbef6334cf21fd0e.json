{"ast":null,"code":"import React,{useState}from'react';import s2 from'../../junior.module.css';import s from'./HW13.module.css';import SuperButton from'../hw04/common/c2-SuperButton/SuperButton';import axios from'axios';import success200 from'./images/200.svg';import error400 from'./images/400.svg';import error500 from'./images/500.svg';import errorUnknown from'./images/error.svg';/*\n* 1 - дописать функцию send\n* 2 - дизэйблить кнопки пока идёт запрос\n* 3 - сделать стили в соответствии с дизайном\n* */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const HW13=()=>{const[code,setCode]=useState('');const[text,setText]=useState('');const[info,setInfo]=useState('');const[image,setImage]=useState('');const[isLoading,setIsLoading]=useState(false);const send=x=>()=>{const url=x===null?'https://xxxxxx.ccc'// имитация запроса на не корректный адрес\n:'https://samurai.it-incubator.io/api/3.0/homework/test';setCode('');setImage('');setText('');setInfo('...loading');setIsLoading(true);axios.post(url,{success:x}).then(res=>{setCode('Код 200!');setImage(success200);setText('...всё ок)');setInfo('код 200 - обычно означает что скорее всего всё ок)');}).catch(e=>{var _e$response;// Set the state based on the error\nconst statusCode=(_e$response=e.response)===null||_e$response===void 0?void 0:_e$response.status;switch(statusCode){case 400:setCode('Код 400!');setImage(error400);setText('Ты не отправил success в body вообще!');setInfo('ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!');break;case 500:setCode('Код 500!');setImage(error500);setText('эмитация ошибки на сервере');setInfo('ошибка 500 - обычно означает что что-то сломалось на сервере, например база данных)');break;default:setCode('Error!');setImage(errorUnknown);setText('Network Error');setInfo('AxiosError');break;}}).finally(()=>setIsLoading(false));};return/*#__PURE__*/_jsxs(\"div\",{id:'hw13',children:[/*#__PURE__*/_jsx(\"div\",{className:s2.hwTitle,children:\"Homework #13\"}),/*#__PURE__*/_jsxs(\"div\",{className:s2.hw,children:[/*#__PURE__*/_jsxs(\"div\",{className:s.buttonsContainer,children:[/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-true',onClick:send(true),xType:'secondary',disabled:isLoading,children:\"Send true\"}),/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-false',onClick:send(false),xType:'secondary',disabled:isLoading,children:\"Send false\"}),/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-undefined',onClick:send(undefined),xType:'secondary',disabled:isLoading,children:\"Send undefined\"}),/*#__PURE__*/_jsx(SuperButton,{id:'hw13-send-null',onClick:send(null)// имитация запроса на не корректный адрес\n,xType:'secondary',disabled:isLoading,children:\"Send null\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:s.responseContainer,children:[/*#__PURE__*/_jsx(\"div\",{className:s.imageContainer,children:image&&/*#__PURE__*/_jsx(\"img\",{src:image,className:s.image,alt:\"status\"})}),/*#__PURE__*/_jsxs(\"div\",{className:s.textContainer,children:[/*#__PURE__*/_jsx(\"div\",{id:'hw13-code',className:s.code,children:code}),/*#__PURE__*/_jsx(\"div\",{id:'hw13-text',className:s.text,children:text}),/*#__PURE__*/_jsx(\"div\",{id:'hw13-info',className:s.info,children:info})]})]})]})]});};export default HW13;","map":{"version":3,"names":["React","useState","s2","s","SuperButton","axios","success200","error400","error500","errorUnknown","jsx","_jsx","jsxs","_jsxs","HW13","code","setCode","text","setText","info","setInfo","image","setImage","isLoading","setIsLoading","send","x","url","post","success","then","res","catch","e","_e$response","statusCode","response","status","finally","id","children","className","hwTitle","hw","buttonsContainer","onClick","xType","disabled","undefined","responseContainer","imageContainer","src","alt","textContainer"],"sources":["/Users/vld/WebTools/css_projects/src/pages/Junior/s2/hw13/HW13.tsx"],"sourcesContent":["import React, {useState} from 'react'\nimport s2 from '../../junior.module.css'\nimport s from './HW13.module.css'\nimport SuperButton from '../hw04/common/c2-SuperButton/SuperButton'\nimport axios from 'axios'\nimport success200 from './images/200.svg'\nimport error400 from './images/400.svg'\nimport error500 from './images/500.svg'\nimport errorUnknown from './images/error.svg'\n\n/*\n* 1 - дописать функцию send\n* 2 - дизэйблить кнопки пока идёт запрос\n* 3 - сделать стили в соответствии с дизайном\n* */\n\nconst HW13 = () => {\n    const [code, setCode] = useState('')\n    const [text, setText] = useState('')\n    const [info, setInfo] = useState('')\n    const [image, setImage] = useState('')\n    const [isLoading, setIsLoading, ] = useState(false)\n    const send = (x?: boolean | null) => () => {\n        const url =\n            x === null\n                ? 'https://xxxxxx.ccc' // имитация запроса на не корректный адрес\n                : 'https://samurai.it-incubator.io/api/3.0/homework/test'\n\n        setCode('')\n        setImage('')\n        setText('')\n        setInfo('...loading')\n        setIsLoading(true)\n        axios\n            .post(url, {success: x})\n\n            .then((res) => {\n                setCode('Код 200!')\n                setImage(success200)\n                setText('...всё ок)')\n                setInfo('код 200 - обычно означает что скорее всего всё ок)')\n\n            })\n            .catch((e) => {\n                // Set the state based on the error\n                const statusCode = e.response?.status;\n                switch (statusCode) {\n                    case 400:\n                        setCode('Код 400!');\n                        setImage(error400);\n                        setText('Ты не отправил success в body вообще!')\n                        setInfo('ошибка 400 - обычно означает что скорее всего фронт отправил что-то не то на бэк!');\n                        break;\n                    case 500:\n                        setCode('Код 500!');\n                        setImage(error500);\n                        setText('эмитация ошибки на сервере')\n                        setInfo('ошибка 500 - обычно означает что что-то сломалось на сервере, например база данных)');\n\n                        break;\n                    default:\n                        setCode('Error!');\n                        setImage(errorUnknown);\n                        setText('Network Error')\n                        setInfo('AxiosError');\n                        break;\n                }\n            })\n            .finally(()=> setIsLoading(false))\n    }\n\n    return (\n        <div id={'hw13'}>\n            <div className={s2.hwTitle}>Homework #13</div>\n\n            <div className={s2.hw}>\n                <div className={s.buttonsContainer}>\n                    <SuperButton\n                        id={'hw13-send-true'}\n                        onClick={send(true)}\n                        xType={'secondary'}\n                        disabled={isLoading}\n\n                    >\n                        Send true\n                    </SuperButton>\n                    <SuperButton\n                        id={'hw13-send-false'}\n                        onClick={send(false)}\n                        xType={'secondary'}\n                        disabled={isLoading}\n\n                    >\n                        Send false\n                    </SuperButton>\n                    <SuperButton\n                        id={'hw13-send-undefined'}\n                        onClick={send(undefined)}\n                        xType={'secondary'}\n                        disabled={isLoading}\n\n                    >\n                        Send undefined\n                    </SuperButton>\n                    <SuperButton\n                        id={'hw13-send-null'}\n                        onClick={send(null)} // имитация запроса на не корректный адрес\n                        xType={'secondary'}\n                        disabled={isLoading}\n\n                    >\n                        Send null\n                    </SuperButton>\n                </div>\n\n                <div className={s.responseContainer}>\n                    <div className={s.imageContainer}>\n                        {image && <img src={image} className={s.image} alt=\"status\"/>}\n                    </div>\n\n                    <div className={s.textContainer}>\n                        <div id={'hw13-code'} className={s.code}>\n                            {code}\n                        </div>\n                        <div id={'hw13-text'} className={s.text}>\n                            {text}\n                        </div>\n                        <div id={'hw13-info'} className={s.info}>\n                            {info}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default HW13\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}