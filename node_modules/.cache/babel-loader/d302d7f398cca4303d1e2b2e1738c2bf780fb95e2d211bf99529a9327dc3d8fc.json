{"ast":null,"code":"var _jsxFileName = \"/Users/vld/WebTools/pet_projects/src/pages/Junior/s2/hw06/common/c4-SuperEditableSpan/SuperEditableSpan.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport s from './SuperEditableSpan.module.css';\nimport SuperInputText from '../../../hw04/common/c1-SuperInputText/SuperInputText';\nimport editIcon from './editIcon.svg';\nimport { Simulate } from \"react-dom/test-utils\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nvar keyUp = Simulate.keyUp; // тип пропсов обычного инпута\n// тип пропсов обычного спана\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута, кроме type\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\nconst SuperEditableSpan = ({\n  autoFocus,\n  onBlur,\n  onEnter,\n  spanProps,\n  ...restProps // все остальные пропсы попадут в объект restProps\n}) => {\n  _s();\n  const [editMode, setEditMode] = useState(false);\n  const {\n    children,\n    onDoubleClick,\n    className,\n    defaultText,\n    ...restSpanProps\n  } = spanProps || {};\n  const onEnterCallback = () => {\n    // выключить editMode при нажатии Enter // делают студенты\n    setEditMode(false);\n    onEnter === null || onEnter === void 0 ? void 0 : onEnter();\n  };\n  const onBlurCallback = e => {\n    // выключить editMode при нажатии за пределами инпута // делают студенты\n    setEditMode(false);\n    onBlur === null || onBlur === void 0 ? void 0 : onBlur(e);\n  };\n  const onDoubleClickCallBack = e => {\n    // включить editMode при двойном клике // делают студенты\n    setEditMode(true);\n    onDoubleClick === null || onDoubleClick === void 0 ? void 0 : onDoubleClick(e);\n  };\n  const spanClassName = s.span + (className ? ' ' + className : '');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: editMode ? /*#__PURE__*/_jsxDEV(SuperInputText, {\n      autoFocus: autoFocus || true,\n      onBlur: onBlurCallback,\n      onEnter: onEnterCallback,\n      className: s.input,\n      ...restProps\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.spanBlock,\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: editIcon,\n        className: s.pen,\n        alt: 'edit'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        onDoubleClick: onDoubleClickCallBack,\n        className: spanClassName,\n        ...restSpanProps,\n        children: children || restProps.value || /*#__PURE__*/_jsxDEV(\"span\", {\n          className: s.defaultText,\n          children: defaultText\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 57\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n_s(SuperEditableSpan, \"rVR9Tx2gSsa7LZkJIG7mlWuXVu0=\");\n_c = SuperEditableSpan;\nexport default SuperEditableSpan;\nvar _c;\n$RefreshReg$(_c, \"SuperEditableSpan\");","map":{"version":3,"names":["React","useState","s","SuperInputText","editIcon","Simulate","jsxDEV","_jsxDEV","Fragment","_Fragment","keyUp","SuperEditableSpan","autoFocus","onBlur","onEnter","spanProps","restProps","_s","editMode","setEditMode","children","onDoubleClick","className","defaultText","restSpanProps","onEnterCallback","onBlurCallback","e","onDoubleClickCallBack","spanClassName","span","input","fileName","_jsxFileName","lineNumber","columnNumber","spanBlock","src","pen","alt","value","_c","$RefreshReg$"],"sources":["/Users/vld/WebTools/pet_projects/src/pages/Junior/s2/hw06/common/c4-SuperEditableSpan/SuperEditableSpan.tsx"],"sourcesContent":["import React, {\n    DetailedHTMLProps,\n    InputHTMLAttributes,\n    HTMLAttributes,\n    useState,\n} from 'react'\nimport s from './SuperEditableSpan.module.css'\nimport SuperInputText from '../../../hw04/common/c1-SuperInputText/SuperInputText'\nimport editIcon from './editIcon.svg'\nimport {Simulate} from \"react-dom/test-utils\";\nimport keyUp = Simulate.keyUp;\n\n// тип пропсов обычного инпута\ntype DefaultInputPropsType = DetailedHTMLProps<InputHTMLAttributes<HTMLInputElement>,\n    HTMLInputElement>\n// тип пропсов обычного спана\ntype DefaultSpanPropsType = DetailedHTMLProps<HTMLAttributes<HTMLSpanElement>,\n    HTMLSpanElement>\n\n// здесь мы говорим что у нашего инпута будут такие же пропсы как у обычного инпута, кроме type\n// (чтоб не писать value: string, onChange: ...; они уже все описаны в DefaultInputPropsType)\ntype SuperEditableSpanType = Omit<DefaultInputPropsType, 'type'> & {\n    // и + ещё пропсы которых нет в стандартном инпуте\n    onChangeText?: (value: string) => void\n    onEnter?: () => void\n    error?: string\n\n    spanProps?: DefaultSpanPropsType  & {defaultText?: string}// пропсы для спана\n}\n\nconst SuperEditableSpan: React.FC<SuperEditableSpanType> = (\n    {\n        autoFocus,\n        onBlur,\n        onEnter,\n        spanProps,\n\n        ...restProps // все остальные пропсы попадут в объект restProps\n    }\n) => {\n    const [editMode, setEditMode] = useState<boolean>(false)\n    const {children, onDoubleClick, className, defaultText, ...restSpanProps} =\n    spanProps || {}\n\n    const onEnterCallback = () => {\n        // выключить editMode при нажатии Enter // делают студенты\n        setEditMode(false)\n        onEnter?.()\n    }\n    const onBlurCallback = (e: React.FocusEvent<HTMLInputElement>) => {\n        // выключить editMode при нажатии за пределами инпута // делают студенты\n        setEditMode(false)\n        onBlur?.(e)\n    }\n    const onDoubleClickCallBack = (\n        e: React.MouseEvent<HTMLSpanElement, MouseEvent>\n    ) => {\n        // включить editMode при двойном клике // делают студенты\n        setEditMode(true)\n        onDoubleClick?.(e)\n    }\n\n    const spanClassName = s.span\n        + (className ? ' ' + className : '')\n\n    return (\n        <>\n            {editMode ? (\n                <SuperInputText\n                    autoFocus={autoFocus || true}\n                    onBlur={onBlurCallback}\n                    onEnter={onEnterCallback}\n                    className={s.input}\n                    {...restProps} // отдаём инпуту остальные пропсы если они есть (value например там внутри)\n                />\n            ) : (\n                <div className={s.spanBlock}>\n                    <img\n                        src={editIcon}\n                        className={s.pen}\n                        alt={'edit'}\n                    />\n                    <span\n                        onDoubleClick={onDoubleClickCallBack}\n                        className={spanClassName}\n                        {...restSpanProps}\n                    >\n                        {/*если нет захардкодженного текста для спана, то значение инпута*/}\n\n                        {children || restProps.value || <span className={s.defaultText}>{defaultText}</span>}\n                    </span>\n                </div>\n            )}\n        </>\n    )\n}\n\nexport default SuperEditableSpan\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}