{"ast":null,"code":"import React,{useState}from'react';import SuperButton from'../hw04/common/c2-SuperButton/SuperButton';import{restoreState}from'../hw06/localStorage/localStorage';import s from'./Clock.module.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const daysOfWeek=[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"];const monthNames=[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"];function Clock(){const[timerId,setTimerId]=useState(undefined);// for autotests // не менять // можно подсунуть в локалСторэдж нужную дату, чтоб увидеть как она отображается\nconst[date,setDate]=useState(new Date(restoreState('hw9-date',Date.now())));const[show,setShow]=useState(false);const[isProcessing,setIsProcessing]=useState(false);const start=()=>{if(!timerId){const newTimerId=setInterval(()=>{setDate(new Date());},1000);setTimerId(newTimerId);// Сохраняем ID таймера\nsetIsProcessing(true);// Обновляем состояние, указывающее на то, что таймер запущен\n}};const getTwoDigitString=num=>num<10?'0'+num:num;const secondsString=getTwoDigitString(date.getSeconds());const minuteString=getTwoDigitString(date.getMinutes());const hourString=getTwoDigitString(date.getHours());const stop=()=>{if(timerId){clearInterval(timerId);setTimerId(undefined);// Обнуляем ID таймера в состоянии\nsetIsProcessing(false);// Обновляем состояние, указывающее на то, что таймер остановлен\n}};const onMouseEnter=()=>{// пишут студенты // показать дату если наведена мышка\nsetShow(true);};const onMouseLeave=()=>{// пишут студенты // спрятать дату если мышка не наведена\nsetShow(false);};let formatter1=new Intl.DateTimeFormat(\"ru\",{day:'2-digit',month:'2-digit',year:'numeric'});const stringTime=/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:hourString}),\":\",/*#__PURE__*/_jsx(\"span\",{children:minuteString}),\":\",/*#__PURE__*/_jsx(\"span\",{children:secondsString})]})||/*#__PURE__*/_jsx(\"br\",{});// часы24:минуты:секунды (01:02:03)/(23:02:03)/(24:00:00)/(00:00:01) // пишут студенты\nconst stringDate=/*#__PURE__*/_jsx(\"div\",{children:formatter1.format(date)})||/*#__PURE__*/_jsx(\"br\",{});// день.месяц.год (01.02.2022) // пишут студенты, варианты 01.02.0123/01.02.-123/01.02.12345 не рассматриваем\n// день недели на английском, месяц на английском (https://learn.javascript.ru/intl#intl-datetimeformat)\nconst stringDay=/*#__PURE__*/_jsx(\"div\",{children:daysOfWeek[date.getDay()]})||/*#__PURE__*/_jsx(\"br\",{});const stringMonth=/*#__PURE__*/_jsx(\"div\",{children:monthNames[date.getMonth()]})||/*#__PURE__*/_jsx(\"br\",{});return/*#__PURE__*/_jsxs(\"div\",{className:s.clock,children:[/*#__PURE__*/_jsxs(\"div\",{id:'hw9-watch',className:s.watch,onMouseEnter:onMouseEnter,onMouseLeave:onMouseLeave,children:[/*#__PURE__*/_jsx(\"span\",{id:'hw9-day',children:stringDay}),\",\",' ',/*#__PURE__*/_jsx(\"span\",{id:'hw9-time',children:/*#__PURE__*/_jsx(\"strong\",{children:stringTime})})]}),/*#__PURE__*/_jsx(\"div\",{id:'hw9-more',children:/*#__PURE__*/_jsx(\"div\",{className:s.more,onFocus:onMouseEnter,onBlur:onMouseLeave,children:show?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{id:'hw9-month',children:stringMonth}),\",\",' ',/*#__PURE__*/_jsx(\"span\",{id:'hw9-date',children:stringDate})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"br\",{})})})}),/*#__PURE__*/_jsxs(\"div\",{className:s.buttonsContainer,children:[/*#__PURE__*/_jsx(SuperButton,{id:'hw9-button-start',disabled:isProcessing// пишут студенты // задизэйблить если таймер запущен\n,onClick:start,children:\"start\"}),/*#__PURE__*/_jsx(SuperButton,{id:'hw9-button-stop',disabled:!isProcessing// пишут студенты // задизэйблить если таймер не запущен\n,onClick:stop,children:\"stop\"})]})]});}export default Clock;","map":{"version":3,"names":["React","useState","SuperButton","restoreState","s","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","daysOfWeek","monthNames","Clock","timerId","setTimerId","undefined","date","setDate","Date","now","show","setShow","isProcessing","setIsProcessing","start","newTimerId","setInterval","getTwoDigitString","num","secondsString","getSeconds","minuteString","getMinutes","hourString","getHours","stop","clearInterval","onMouseEnter","onMouseLeave","formatter1","Intl","DateTimeFormat","day","month","year","stringTime","children","stringDate","format","stringDay","getDay","stringMonth","getMonth","className","clock","id","watch","more","onFocus","onBlur","buttonsContainer","disabled","onClick"],"sources":["/Users/vld/WebTools/pet_projects/src/pages/Junior/s2/hw09/Clock.tsx"],"sourcesContent":["import React, {useEffect, useState} from 'react'\nimport SuperButton from '../hw04/common/c2-SuperButton/SuperButton'\nimport {restoreState} from '../hw06/localStorage/localStorage'\nimport s from './Clock.module.css'\nconst daysOfWeek = [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"];\nconst monthNames = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\",\n    \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\nfunction Clock() {\n    const [timerId, setTimerId] = useState<NodeJS.Timer | undefined>(undefined)\n    // for autotests // не менять // можно подсунуть в локалСторэдж нужную дату, чтоб увидеть как она отображается\n    const [date, setDate] = useState<Date>(new Date(restoreState('hw9-date', Date.now())))\n    const [show, setShow] = useState<boolean>(false)\n    const [isProcessing, setIsProcessing] = useState(false);\n\n\n    const start = () => {\n        if (!timerId) {\n            const newTimerId = setInterval(() => {\n                setDate(new Date());\n            }, 1000);\n            setTimerId(newTimerId); // Сохраняем ID таймера\n            setIsProcessing(true); // Обновляем состояние, указывающее на то, что таймер запущен\n        }\n    };\n\n    const getTwoDigitString = (num: number) => num < 10 ? '0' + num : num\n\n    const secondsString = getTwoDigitString(date.getSeconds())\n\n    const minuteString = getTwoDigitString(date.getMinutes())\n\n    const hourString = getTwoDigitString(date.getHours())\n\n    const stop = () => {\n        if (timerId) {\n            clearInterval(timerId);\n            setTimerId(undefined); // Обнуляем ID таймера в состоянии\n            setIsProcessing(false); // Обновляем состояние, указывающее на то, что таймер остановлен\n        }\n    };\n\n    const onMouseEnter = () => { // пишут студенты // показать дату если наведена мышка\n        (setShow(true))\n    }\n    const onMouseLeave = () => { // пишут студенты // спрятать дату если мышка не наведена\n        setShow(false)\n    }\n    let formatter1 = new Intl.DateTimeFormat(\"ru\", {\n        day: '2-digit',\n        month: '2-digit',\n        year: 'numeric'\n    });\n\n\n    const stringTime =  <div>\n        <span>{hourString}</span>\n        :\n        <span>{minuteString}</span>\n        :\n        <span>{secondsString}</span>\n    </div> || <br/> // часы24:минуты:секунды (01:02:03)/(23:02:03)/(24:00:00)/(00:00:01) // пишут студенты\n\n    const stringDate = <div>{formatter1.format(date)}</div> || <br/> // день.месяц.год (01.02.2022) // пишут студенты, варианты 01.02.0123/01.02.-123/01.02.12345 не рассматриваем\n\n    // день недели на английском, месяц на английском (https://learn.javascript.ru/intl#intl-datetimeformat)\n    const stringDay = <div>{daysOfWeek[date.getDay()]}</div> || <br/>;\n    const stringMonth = <div>{monthNames[date.getMonth()]}</div> || <br/>;\n    return (\n        <div className={s.clock}>\n            <div\n                id={'hw9-watch'}\n                className={s.watch}\n                onMouseEnter={onMouseEnter}\n                onMouseLeave={onMouseLeave}\n            >\n                <span id={'hw9-day'}>{stringDay}</span>,{' '}\n                <span id={'hw9-time'}>\n                    <strong>{stringTime}</strong>\n                </span>\n            </div>\n\n            <div id={'hw9-more'}>\n                <div className={s.more} onFocus={onMouseEnter} onBlur={onMouseLeave}>\n                    {show ? (\n                        <>\n                            <span id={'hw9-month'}>{stringMonth}</span>,{' '}\n                            <span id={'hw9-date'}>{stringDate}</span>\n                        </>\n                    ) : (\n                        <>\n                            <br/>\n                        </>\n                    )}\n                </div>\n            </div>\n\n            <div className={s.buttonsContainer}>\n                <SuperButton\n                    id={'hw9-button-start'}\n                    disabled={isProcessing}// пишут студенты // задизэйблить если таймер запущен\n                    onClick={start}\n                >\n                    start\n                </SuperButton>\n                <SuperButton\n                    id={'hw9-button-stop'}\n                    disabled={!isProcessing} // пишут студенты // задизэйблить если таймер не запущен\n                    onClick={stop}\n                >\n                    stop\n                </SuperButton>\n            </div>\n        </div>\n    )\n}\n\nexport default Clock\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}